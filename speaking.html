<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å£è¯­é¢è¯• (Speaking)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container teacher-theme">
    
    <div id="menuBox" class="card">
        <h2>ğŸ—£ï¸ å£è¯­é¢è¯• (Teacher Mode)</h2>
        <select id="courseSelect" onchange="loadPaper(this.value)">
            <option value="" disabled selected>è¯·é€‰æ‹©è€ƒæ ¸è¯¾ç¨‹...</option>

            <optgroup label="Final Exam (First Term)">
                <option value="final_speaking_33.js">Final Exam: Speaking (33)</option>
            </optgroup>
            
            <optgroup label="Unit 1: Hello!">
                <option value="u1_l1.js">Unit 1 Lesson 1: Nice to meet you</option>
                <option value="u1_l2.js">Unit 1 Lesson 2: What's your name?</option>
                <option value="u1_l3.js">Unit 1 Lesson 3: How are you?</option>
                <option value="u1_l4.js">Unit 1 Lesson 4: Have a good day!</option>
            </optgroup>

            <optgroup label="Unit 2: Numbers">
                <option value="u2_l1.js">Unit 2 Lesson 1: Let's play!</option>
                <option value="u2_l2.js">Unit 2 Lesson 2: How many ducks?</option>
                <option value="u2_l3.js">Unit 2 Lesson 3: How old are you?</option>
                <option value="u2_l4.js">Unit 2 Lesson 4: Phone number</option>
            </optgroup>

            <optgroup label="Unit 3: Colors">
                <option value="u3_l1.js">Unit 3 Lesson 1: It's green</option>
                <option value="u3_l2.js">Unit 3 Lesson 2: What color is it?</option>
                <option value="u3_l3.js">Unit 3 Lesson 3: Show me red</option>
                <option value="u3_l4.js">Unit 3 Lesson 4: Colorful flowers</option>
            </optgroup>

            <optgroup label="Unit 4: Family">
                <option value="u4_l1.js">Unit 4 Lesson 1: My father</option>
                <option value="u4_l2.js">Unit 4 Lesson 2: Who is he?</option>
                <option value="u4_l3.js">Unit 4 Lesson 3: Who are they?</option>
                <option value="u4_l4.js">Unit 4 Lesson 4: I love my family</option>
            </optgroup>
        </select>
        </div>

    <div id="loadingBox" class="hidden text-center">
        <p>æ­£åœ¨è¯»å–é¢˜åº“...</p>
    </div>

    <div id="setupBox" class="card hidden">
        <h3 id="examTitle">...</h3>
        <select id="studentSelector">
            <option value="" disabled selected>é€‰æ‹©é¢è¯•å­¦ç”Ÿ</option>
            </select>
        <button class="btn-primary" onclick="startExam()">å¼€å§‹é¢è¯•</button>
    </div>

    <div id="quizInterface" class="hidden">
        <div class="header-bar">
            <span id="studentNameDisplay">Student</span>
            <span id="timerDisplay" class="timer">05:00</span>
        </div>
        
        <div class="progress-bar-bg"><div id="progressBar"></div></div>
        <div id="progressText" class="text-small"></div>

        <div class="card question-card">
            <div id="qContent"></div>
        </div>

        <div class="nav-bar">
            <button id="btnPrev" onclick="prevQ()">â¬…ï¸ ä¸Šä¸€é¢˜</button>
            <button id="btnNext" onclick="nextQ()">ä¸‹ä¸€é¢˜ â¡ï¸</button>
            <button id="btnSubmit" onclick="submit()" class="btn-success hidden">ç»“æŸæ‰“åˆ† (Submit)</button>
        </div>
    </div>

    <div id="submittingBox" class="card hidden text-center"></div>
    <div id="resultBox" class="card hidden text-center">
        <h1>å®Œæˆ</h1>
        <h1 class="score-text" id="finalScore">?</h1>
        <p>åˆ†</p>
        <a href="speaking.html" class="btn-primary">ä¸‹ä¸€ä½åŒå­¦</a>
    </div>

</div>

<script src="script_engine.js?v=12.5"></script>

<script>
    // 1. å¯åŠ¨å¼•æ“ - å£è¯­æ¨¡å¼
    // å¼•æ“ä¼šè‡ªåŠ¨å» data/speaking/ æ–‡ä»¶å¤¹å¯»æ‰¾é¢˜ç›®
    initEngine('speaking');

    // 2. ğŸ“‹ å®Œæ•´å­¦ç”Ÿåå• (27äºº)
    const STUDENTS = [
        "1. å¼ å®‡è±ª", "2. å¼ ä½³å¯’", "3. å¼ ç¿æ¸Š", "4. å¼ ç¾½éŸ¬", "5. å¼ ç¾èŒ¹",
        "6. å¼ å˜‰é’¦", "7. å¢æ¢¦å©·", "8. å¼ æ‚¦è±", "9. å¼ è¯­æ¶µ", "10. å¼ è‹±è±ª",
        "11. å¼ å¿—é¹", "12. å¼ æ™ºæ°", "13. å¼ æ¢“å©·", "14. å¼ å“çª", "15. å¼ è¯ºä¾",
        "16. å¼ é›¨æ³½", "17. å¼ ä¾å½¤", "18. å¼ è‰ºæ¥ ", "19. å¼ æ€å½¤", "20. å¼ å­è±ª",
        "21. å¼ æ¢“äº¦", "22. å¼ çš“é‘«", "23. å¼ é›¨æ¬£", "24. å¼ å¦‚æ¬£", "25. å¼ æŸæ¶µ",
        "26. å¼ æ¢“çº¯", "27. å¼ æ³½é‘«"
    ];

    // 3. è‡ªåŠ¨å¡«å……ä¸‹æ‹‰èœå•
    const sel = document.getElementById('studentSelector');
    STUDENTS.forEach(name => {
        const opt = document.createElement('option');
        opt.value = name;
        opt.innerText = name;
        sel.appendChild(opt);
    });
</script>

</body>
</html>
